import 'package:cloud_firestore/cloud_firestore.dart';
import 'package:souq/src/models/Store.dart';
import 'package:souq/src/models/StoryItem.dart';

class StoreRepository {
  final CollectionReference collection =
  FirebaseFirestore.instance.collection('Store');

  Stream<QuerySnapshot> getStores() {
    return collection.snapshots();
  }

  Future<DocumentReference> addStore(Store store) {
    return collection.add(store.toJson());
  }

  Future<void> addStoreFuture() async {
    List<StoryContent> list = [];
    StoreRepository repository = StoreRepository();
    list.add(new StoryContent("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", 1));
    Store newStore = new Store( "ماكس", "zara", 1, true,list);
    await FirebaseFirestore.instance.collection('Store').add(repository.storeToJson(newStore)).then((value) => print(value));
  }

  Map<String, dynamic> storeToJson(Store instance) =>
      <String, dynamic>{
        'NameAr': instance.nameAr,
        'NameEn': instance.nameEn,
        'Category': instance.category,
        'isApprovedByAdmin': instance.isApprovedByAdmin,
        'Stories' : instance.stories.map((i) => i.toMap()).toList(),
      };
}